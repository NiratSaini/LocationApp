<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>GiveFeedback.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=0;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">debugAndroidTest</a> &gt; <a href="index.source.html" class="el_package">umd.mindlab.main</a> &gt; <span class="el_source">GiveFeedback.java</span></div><h1>GiveFeedback.java</h1><pre class="source lang-java linenums">package umd.mindlab.main;

import umd.mindlab.objects.LogWifiInfoTask;
import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.util.Log;
import android.view.KeyEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.View.OnKeyListener;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.EditText;
import android.widget.Toast;

<span class="nc" id="L17">public class GiveFeedback extends Activity implements OnClickListener {</span>
	private static final String TAG = &quot;GiveFeedback&quot;;

	public Button submit;

	public String building;
	public String room;
	public String wing;
	public String xCoordinate;
	public String yCoordinate;
	public String nearestAP;
	
	public String xml;

	public CheckBox buildingBox;
	public CheckBox wingBox;
	public CheckBox roomBox;
	public CheckBox xCoordBox;
	public CheckBox yCoordBox;
	public CheckBox nearestAPBox;

	public void onCreate(Bundle savedInstanceState) {
<span class="nc" id="L39">		super.onCreate(savedInstanceState);</span>
<span class="nc" id="L40">		setContentView(R.layout.main_two);</span>

<span class="nc" id="L42">		xml = getIntent().getExtras().getString(&quot;xml&quot;);</span>
		
<span class="nc" id="L44">		submit = (Button) findViewById(R.id.submit);</span>
<span class="nc" id="L45">		submit.setOnClickListener(this);</span>

<span class="nc" id="L47">		room = new String();</span>
<span class="nc" id="L48">		wing = new String();</span>
<span class="nc" id="L49">		building = new String();</span>

<span class="nc" id="L51">		final EditText buildingText = (EditText) findViewById(R.id.buildingText);</span>
<span class="nc" id="L52">		buildingText.setOnKeyListener(new OnKeyListener() {</span>
			public boolean onKey(View v, int keyCode, KeyEvent event) {
				// If the event is a key-down event on the &quot;enter&quot; button
<span class="nc bnc" id="L55" title="All 4 branches missed.">				if ((event.getAction() == KeyEvent.ACTION_DOWN)</span>
						&amp;&amp; (keyCode == KeyEvent.KEYCODE_ENTER)) {
					// Perform action on key press
<span class="nc" id="L58">					building = buildingText.getText().toString();</span>
<span class="nc" id="L59">					Toast.makeText(GiveFeedback.this, building,</span>
<span class="nc" id="L60">							Toast.LENGTH_LONG).show();</span>

<span class="nc" id="L62">					return true;</span>
				}
<span class="nc" id="L64">				return false;</span>
			}
		});

<span class="nc" id="L68">		final EditText wingText = (EditText) findViewById(R.id.wingText);</span>
<span class="nc" id="L69">		wingText.setOnKeyListener(new OnKeyListener() {</span>
			public boolean onKey(View v, int keyCode, KeyEvent event) {
				// If the event is a key-down event on the &quot;enter&quot; button
<span class="nc bnc" id="L72" title="All 4 branches missed.">				if ((event.getAction() == KeyEvent.ACTION_DOWN)</span>
						&amp;&amp; (keyCode == KeyEvent.KEYCODE_ENTER)) {
					// Perform action on key press
<span class="nc" id="L75">					wing = wingText.getText().toString();</span>
<span class="nc" id="L76">					Toast.makeText(GiveFeedback.this, wing, Toast.LENGTH_LONG)</span>
<span class="nc" id="L77">							.show();</span>

<span class="nc" id="L79">					return true;</span>
				}
<span class="nc" id="L81">				return false;</span>
			}
		});

<span class="nc" id="L85">		final EditText roomText = (EditText) findViewById(R.id.roomText);</span>
<span class="nc" id="L86">		roomText.setOnKeyListener(new OnKeyListener() {</span>
			public boolean onKey(View v, int keyCode, KeyEvent event) {
				// If the event is a key-down event on the &quot;enter&quot; button
<span class="nc bnc" id="L89" title="All 4 branches missed.">				if ((event.getAction() == KeyEvent.ACTION_DOWN)</span>
						&amp;&amp; (keyCode == KeyEvent.KEYCODE_ENTER)) {
					// Perform action on key press
<span class="nc" id="L92">					room = roomText.getText().toString();</span>
<span class="nc" id="L93">					Toast.makeText(GiveFeedback.this, room, Toast.LENGTH_LONG)</span>
<span class="nc" id="L94">							.show();</span>

<span class="nc" id="L96">					return true;</span>
				}
<span class="nc" id="L98">				return false;</span>
			}
		});		
		
<span class="nc" id="L102">		final EditText xText = (EditText) findViewById(R.id.xcoordText);</span>
<span class="nc" id="L103">		xText.setOnKeyListener(new OnKeyListener() {</span>
			public boolean onKey(View v, int keyCode, KeyEvent event) {
				// If the event is a key-down event on the &quot;enter&quot; button
<span class="nc bnc" id="L106" title="All 4 branches missed.">				if ((event.getAction() == KeyEvent.ACTION_DOWN)</span>
						&amp;&amp; (keyCode == KeyEvent.KEYCODE_ENTER)) {
					// Perform action on key press
<span class="nc" id="L109">					xCoordinate = xText.getText().toString();</span>
<span class="nc" id="L110">					Toast.makeText(GiveFeedback.this, xCoordinate, Toast.LENGTH_LONG)</span>
<span class="nc" id="L111">							.show();</span>

<span class="nc" id="L113">					return true;</span>
				}
<span class="nc" id="L115">				return false;</span>
			}
		});
		
<span class="nc" id="L119">		final EditText yText = (EditText) findViewById(R.id.ycoordText);</span>
<span class="nc" id="L120">		yText.setOnKeyListener(new OnKeyListener() {</span>
			public boolean onKey(View v, int keyCode, KeyEvent event) {
				// If the event is a key-down event on the &quot;enter&quot; button
<span class="nc bnc" id="L123" title="All 4 branches missed.">				if ((event.getAction() == KeyEvent.ACTION_DOWN)</span>
						&amp;&amp; (keyCode == KeyEvent.KEYCODE_ENTER)) {
					// Perform action on key press
<span class="nc" id="L126">					yCoordinate = yText.getText().toString();</span>
<span class="nc" id="L127">					Toast.makeText(GiveFeedback.this, yCoordinate, Toast.LENGTH_LONG)</span>
<span class="nc" id="L128">							.show();</span>

<span class="nc" id="L130">					return true;</span>
				}
<span class="nc" id="L132">				return false;</span>
			}
		});
		
<span class="nc" id="L136">		final EditText nearestAPText = (EditText) findViewById(R.id.apText);</span>
<span class="nc" id="L137">		nearestAPText.setOnKeyListener(new OnKeyListener() {</span>
			public boolean onKey(View v, int keyCode, KeyEvent event) {
				// If the event is a key-down event on the &quot;enter&quot; button
<span class="nc bnc" id="L140" title="All 4 branches missed.">				if ((event.getAction() == KeyEvent.ACTION_DOWN)</span>
						&amp;&amp; (keyCode == KeyEvent.KEYCODE_ENTER)) {
					// Perform action on key press
<span class="nc" id="L143">					nearestAP = nearestAPText.getText().toString();</span>
<span class="nc" id="L144">					Toast.makeText(GiveFeedback.this, nearestAP, Toast.LENGTH_LONG)</span>
<span class="nc" id="L145">							.show();</span>

<span class="nc" id="L147">					return true;</span>
				}
<span class="nc" id="L149">				return false;</span>
			}
		});		

<span class="nc" id="L153">		buildingBox = (CheckBox) findViewById(R.id.checkBuilding);</span>
<span class="nc" id="L154">		wingBox = (CheckBox) findViewById(R.id.checkWing);</span>
<span class="nc" id="L155">		roomBox = (CheckBox) findViewById(R.id.checkRoom);</span>
<span class="nc" id="L156">		xCoordBox = (CheckBox) findViewById(R.id.checkx);</span>
<span class="nc" id="L157">		yCoordBox = (CheckBox) findViewById(R.id.checky);</span>
<span class="nc" id="L158">		nearestAPBox = (CheckBox) findViewById(R.id.checkAP);</span>
<span class="nc" id="L159">	}</span>

	public void onClick(View v) {
<span class="nc" id="L162">		String str = &quot;&lt;user-input&gt;\n&lt;room&gt;&quot;;</span>
<span class="nc bnc" id="L163" title="All 2 branches missed.">		if (roomBox.isChecked()) {</span>
<span class="nc bnc" id="L164" title="All 4 branches missed.">			if (room == null || room.length() &lt; 1) {</span>
<span class="nc" id="L165">				str = str + &quot;unknown room&quot;;</span>
			} else {
<span class="nc" id="L167">				str = str + room.trim();</span>
			}
		}
<span class="nc" id="L170">		str = str + &quot;&lt;/room&gt;\n&quot;;</span>
<span class="nc" id="L171">		str = str + &quot;&lt;wing&gt;&quot;;</span>
<span class="nc bnc" id="L172" title="All 2 branches missed.">		if (wingBox.isChecked()) {</span>
<span class="nc bnc" id="L173" title="All 4 branches missed.">			if (wing == null || wing.length() &lt; 1) {</span>
<span class="nc" id="L174">				str = str + &quot;unknown wing&quot;;</span>
			} else {
<span class="nc" id="L176">				str = str + wing.trim();</span>
			}
		}
<span class="nc" id="L179">		str = str + &quot;&lt;/wing&gt;\n&quot;;</span>
<span class="nc" id="L180">		str = str + &quot;&lt;building&gt;&quot;;</span>
<span class="nc bnc" id="L181" title="All 2 branches missed.">		if (buildingBox.isChecked()) {</span>
<span class="nc bnc" id="L182" title="All 4 branches missed.">			if (building == null || building.length() &lt; 1) {</span>
<span class="nc" id="L183">				str = str + &quot;unknown building&quot;;</span>
			} else {
<span class="nc" id="L185">				str = str + building.trim();</span>
			}
		}
<span class="nc" id="L188">		str = str + &quot;&lt;/building&gt;\n&quot;;</span>
<span class="nc" id="L189">		str = str + &quot;&lt;xcoordinate&gt;&quot;;</span>
<span class="nc bnc" id="L190" title="All 2 branches missed.">		if (xCoordBox.isChecked()) {</span>
<span class="nc bnc" id="L191" title="All 4 branches missed.">			if (xCoordinate == null || xCoordinate.length() &lt; 1) {</span>
<span class="nc" id="L192">				str = str + &quot;unknown x value&quot;;</span>
			} else {
<span class="nc" id="L194">				str = str + xCoordinate.trim();</span>
			}
		}
<span class="nc" id="L197">		str = str + &quot;&lt;/xcoordinate&gt;\n&quot;;</span>
<span class="nc" id="L198">		str = str + &quot;&lt;ycoordinate&gt;&quot;;</span>
<span class="nc bnc" id="L199" title="All 2 branches missed.">		if (yCoordBox.isChecked()) {</span>
<span class="nc bnc" id="L200" title="All 4 branches missed.">			if (yCoordinate == null || yCoordinate.length() &lt; 1) {</span>
<span class="nc" id="L201">				str = str + &quot;unknown y value&quot;;</span>
			} else {
<span class="nc" id="L203">				str = str + yCoordinate.trim();</span>
			}
		}
<span class="nc" id="L206">		str = str + &quot;&lt;/ycoordinate&gt;\n&quot;;</span>
<span class="nc" id="L207">		str = str + &quot;&lt;ap&gt;&quot;;</span>
<span class="nc bnc" id="L208" title="All 2 branches missed.">		if (nearestAPBox.isChecked()) {</span>
<span class="nc bnc" id="L209" title="All 4 branches missed.">			if (nearestAP == null || nearestAP.length() &lt; 1) {</span>
<span class="nc" id="L210">				str = str + &quot;unknown AP&quot;;</span>
			} else {
<span class="nc" id="L212">				str = str + nearestAP.trim();</span>
			}
		}
<span class="nc" id="L215">		str = str + &quot;&lt;/ap&gt;\n&lt;/user-input&gt;\n&quot;;</span>

<span class="nc" id="L217">		str = str + xml; </span>
<span class="nc" id="L218">		Toast.makeText(this, &quot;Logging feedback and wifi information&quot;, Toast.LENGTH_LONG).show();</span>
<span class="nc" id="L219">		Log.v(TAG, str);</span>
		//(new LogWifiInfoTask()).execute(str);

<span class="nc" id="L222">		Intent intent = new Intent();</span>
<span class="nc" id="L223">		setResult(RESULT_OK, intent);</span>
<span class="nc" id="L224">		finish();</span>
<span class="nc" id="L225">	}</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.5.201505241946</span>Generated by the Android Gradle plugin 2.2.3</div></body></html>